<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">

    <!DOCTYPE html>
    <html lang="en">

    <!-- Minified version -->
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">

    <style>
        span {
            display: inline-table;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            line-height: 60px;
            margin: 3px;
            border-radius: 3px;
            font-size: 30px;
            font-weight: bold;
            font-family: Arial, Helvetica, sans-serif;
            text-align: center;
            vertical-align: bottom;
            text-transform: uppercase;
            background-color: #000;
        }

        div {
            margin: auto;
            text-align: center;
        }
    </style>

</head>

<body>

    <div class="container" , id="game-board">
        <h2></h2>
        <div>
            <span class="r1-c1"></span>
            <span class="r1-c2"></span>
            <span class="r1-c3"></span>
            <span class="r1-c4"></span>
            <span class="r1-c5"></span>
        </div>
        <div>
            <span class="r2-c1"></span>
            <span class="r2-c2"></span>
            <span class="r2-c3"></span>
            <span class="r2-c4"></span>
            <span class="r2-c5"></span>
        </div>
        <div>
            <span class="r3-c1"></span>
            <span class="r3-c2"></span>
            <span class="r3-c3"></span>
            <span class="r3-c4"></span>
            <span class="r3-c5"></span>
        </div>
        <div>
            <span class="r4-c1"></span>
            <span class="r4-c2"></span>
            <span class="r4-c3"></span>
            <span class="r4-c4"></span>
            <span class="r4-c5"></span>
        </div>
        <div>
            <span class="r5-c1"></span>
            <span class="r5-c2"></span>
            <span class="r5-c3"></span>
            <span class="r5-c4"></span>
            <span class="r5-c5"></span>
        </div>
        <div>
            <span class="r6-c1"></span>
            <span class="r6-c2"></span>
            <span class="r6-c3"></span>
            <span class="r6-c4"></span>
            <span class="r6-c5"></span>
        </div>
    </div>

    <script>
        const yellowBackground = "rgb(239, 239, 35)"
        const greenBackground = "rgb(48, 206, 114)"
        const greyBackground = "rgb(50, 50, 50)"
        const blackBackground = "rgb(0, 0, 0)"
        var row = 1
        var col = 3
        var tile_id = 'r' + row.toString() + '-' + 'c' + col.toString();
        var tiles = document.getElementsByClassName(tile_id);
        for (var i = 0; i < tiles.length; i++) {
            var tile = tiles[i];
            tile.style.backgroundColor = yellowBackground;
        } 
    </script>


    <script>

        var socket = new WebSocket('ws://localhost:8000/ws/some_url/')

        socket.onmessage = function (event) {
            var data = JSON.parse(event.data);
            console.log(data);
            document.getElementById('app').innerText = data.message;

        }

    </script>

    <!-- Virtual keyboard -->
    <div id="VirtualKey" , margin="auto">
        <input id="btnQ" type="button" value="Q" onclick="input(this);" />
        <input id="btnW" type="button" value="W" onclick="input(this);" />
        <input id="btnE" type="button" value="E" onclick="input(this);" />
        <input id="btnR" type="button" value="R" onclick="input(this);" />
        <input id="btnT" type="button" value="T" onclick="input(this);" />
        <input id="btnY" type="button" value="Y" onclick="input(this);" />
        <input id="btnU" type="button" value="U" onclick="input(this);" />
        <input id="btnI" type="button" value="I" onclick="input(this);" />
        <input id="btnO" type="button" value="O" onclick="input(this);" />
        <input id="btnP" type="button" value="P" onclick="input(this)" />
        <br />
        <input id="btnA" type="button" value="A" onclick="input(this);" />
        <input id="btnS" type="button" value="S" onclick="input(this);" />
        <input id="btnD" type="button" value="D" onclick="input(this);" />
        <input id="btnF" type="button" value="F" onclick="input(this);" />
        <input id="btnG" type="button" value="G" onclick="input(this);" />
        <input id="btnH" type="button" value="H" onclick="input(this);" />
        <input id="btnJ" type="button" value="J" onclick="input(this);" />
        <input id="btnK" type="button" value="K" onclick="input(this);" />
        <input id="btnL" type="button" value="L" onclick="input(this);" />
        <br />
        <input id="btnENTER" type="button" value="Enter" onclick="enter(this);" />
        <input id="btnZ" type="button" value="Z" onclick="input(this);" />
        <input id="btnX" type="button" value="X" onclick="input(this);" />
        <input id="btnC" type="button" value="C" onclick="input(this);" />
        <input id="btnV" type="button" value="V" onclick="input(this);" />
        <input id="btnB" type="button" value="B" onclick="input(this);" />
        <input id="btnN" type="button" value="N" onclick="input(this);" />
        <input id="btnM" type="button" value="M" onclick="input(this);" />

        <input id="btnDel" type="button" value="âŒ«" onclick="del();" />
    </div>

    <script>

        var round = 1
        var wordPos = 1

        function input(e) {
            var tile_class_name = 'r' + round.toString() + '-' + 'c' + wordPos.toString();
            var tiles = document.getElementsByClassName(tile_class_name);
            if (wordPos < 5) {
                tiles[0].textContent = e.value
                wordPos += 1;
            }
            else {
                if (tiles[0].textContent == '') {
                    tiles[0].textContent = e.value
                }
            }
        }

        function del() {
            var tile_class_name = 'r' + round.toString() + '-' + 'c' + wordPos.toString();
            var tiles = document.getElementsByClassName(tile_class_name);

            if (tiles[0].textContent != '') {
                tiles[0].textContent = '';
                return;
            }

            if (wordPos > 1) {
                wordPos -= 1;
                tile_class_name = 'r' + round.toString() + '-' + 'c' + wordPos.toString();
                tiles = document.getElementsByClassName(tile_class_name);
                tiles[0].textContent = '';
            }
        }

        function enter() {
            if (wordPos == 5) {
                for (let i = 1; i < 6; i++) {
                    tile_class_name = 'r' + round.toString() + '-' + 'c' + i.toString();
                    tiles = document.getElementsByClassName(tile_class_name);
                    tiles[0].style.backgroundColor = greyBackground;
                }
                if (round < 6) {
                    round += 1;
                    wordPos = 1;
                }
            }
        }

    </script>

</body>

</html>